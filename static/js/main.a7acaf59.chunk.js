(this.webpackJsonptzcharts=this.webpackJsonptzcharts||[]).push([[0],{198:function(e,t){},247:function(e,t,n){"use strict";function r(e){return void 0!==e[""]}n.d(t,"a",(function(){return r}))},276:function(e,t,n){},277:function(e,t,n){},285:function(e,t){},287:function(e,t){},351:function(e,t){},353:function(e,t){},37:function(e,t,n){"use strict";function r(e){return a(e)?e:e.address}function a(e){return!c(e)}function c(e){return void 0!==e.address}function s(e,t){return c(e)&&c(t)?function(e,t){return e.address===t.address&&e.tokenId.toNumber()===t.tokenId.toNumber()}(e,t):!(!a(e)||!a(t))&&e===t}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}))},393:function(e,t){},394:function(e,t){},399:function(e,t){},40:function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return F})),n.d(t,"g",(function(){return N})),n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return H})),n.d(t,"b",(function(){return D})),n.d(t,"f",(function(){return X})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return W})),n.d(t,"j",(function(){return M}));var r=n(23),a=n(42),c=n(0),s=n.n(c),i=n(18),o=n(11),u=n.n(o),l=n(37),d=n(247),p=n(58),b="KT19kgnqC5VWoxktLRdRUERbyUPku9YioE8W",f="https://api.tzkt.io/v1/",j="KT1Lw8hCoaBrHeTeMXbqHPG4sS4K1xn7yKcD",h="KT1SwH9P1Tx8a58Mm6qBExQFTcy2rwZyZiXS";function v(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return n=e.sent,e.next=5,G(n.token_to_exchange);case 5:return r=e.sent,a=r.map((function(e){return{address:e.key,dexAddress:e.value}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(j);case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.address);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",Object(a.a)(Object(a.a)({},n),{},{dexAddress:t.dexAddress}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return n=e.sent,r=n.filter((function(e){return null!=e})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h);case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={address:t.address.address,tokenId:new u.a(t.address.nat)},e.next=3,N(n);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Object(a.a)(Object(a.a)({},r),{},{dexAddress:t.dexAddress}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return n=e.sent,r=n.filter((function(e){return null!=e})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(f+"contracts/".concat(t,"/storage")+(void 0!==n?"?level=".concat(n):""));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(f+"contracts/".concat(t,"/storage/history?limit=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(f+"contracts/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(s.a.mark((function e(t){var n,r,c,o,d,p,b,f,j,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Object(l.b)(t)?"fa12":"fa2",d=Object(l.a)(t),p=function(){var e=Object(i.a)(s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,T(d);case 9:if(r=e.sent,a=r.alias){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.abrupt("return",{name:a,symbol:a,decimals:0});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,p();case 6:if(b=e.sent){e.next=9;break}return e.abrupt("return",void 0);case 9:return f=b,e.next=12,w(d);case 12:return j=e.sent,h=j.admin?null!==(n=j.admin.admin)&&void 0!==n?n:j.admin:void 0,v=(null===j||void 0===j||null===(r=j.assets)||void 0===r?void 0:r.total_supply)?te(new u.a(null===j||void 0===j||null===(c=j.assets)||void 0===c?void 0:c.total_supply),f.decimals):void 0,"shitstain"===t&&console.log("i reached here"),e.abrupt("return",Object(a.a)({ownerAddress:h,totalSupply:v,address:t,type:o},f));case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function E(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t.address,t.dexAddress);case 2:return n=e.sent,r=n.tezosPool.dividedBy(n.tokenPool),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){var n=e.storage,r=n.last_update_time,a=n.token_address,c=n.token_pool,s=n.tez_pool;return{lastUpdateTime:new Date(r),tokenAddress:a,tokenPool:te(new u.a(c),t),tezosPool:te(new u.a(s),6)}}function F(e){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return r=e.sent,e.abrupt("return",null!==(n=null===r||void 0===r?void 0:r.decimals)&&void 0!==n?n:0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return r=e.sent,console.log("decimals: "+r),e.next=6,A(n);case 6:return a=e.sent,e.abrupt("return",M(a,r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return q.apply(this,arguments)}function q(){return(q=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,1e3);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return void 0!==e.value.token_info}function Q(e){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,i,o,u,b,j,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.b)(t)?(a=t,c="0"):(a=t.address,c=t.tokenId.toString()),e.next=3,Object(p.a)(f+"contracts/".concat(a,"/bigmaps/token_metadata/keys/").concat(c));case 3:if((i=e.sent)&&i.value){e.next=6;break}return e.abrupt("return",null);case 6:if(o=V(i)?i.value.token_info:null!==(n=i.value.map)&&void 0!==n?n:i.value.token_metadata_map,!Object(d.a)(o)){e.next=16;break}return j=$(o[""]),h=j.substring(j.indexOf("ipfs://")),v=h.replace("ipfs://","https://ipfs.io/ipfs/"),e.next=13,Object(p.a)(v);case 13:b=e.sent,e.next=18;break;case 16:b={name:ee((u=o).name),symbol:ee(u.symbol),decimals:parseInt(ee(u.decimals)),description:ee(u.description),thumbnailUri:ee(u.thumbnailUri)};case 18:return(null===(r=b.thumbnailUri)||void 0===r?void 0:r.startsWith("ipfs://"))&&(b.thumbnailUri=b.thumbnailUri.replace("ipfs://","https://ipfs.io/ipfs/")),e.abrupt("return",b);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(i.a)(s.a.mark((function e(t){var n,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t),a=Object(l.b)(t)?0:t.tokenId,e.next=4,Object(p.a)("https://api.better-call.dev/v1/contract/mainnet/".concat(n,"/tokens/holders?token_id=").concat(a));case 4:return c=e.sent,i=Object.entries(c).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return{address:n,balance:new u.a(a)}})),o=Object.values(c).map((function(e){return new u.a(e)})).reduce((function(e,t){return e.plus(t)}),new u.a(0)),e.abrupt("return",{holders:i,circulatingSupply:o});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(f+"bigmaps/".concat(t,"/keys"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(i.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(b,t);case 2:return n=e.sent,r=new u.a(n.nat_0).toNumber()/100,a=new Date(n.timestamp),e.abrupt("return",{usd:r,timestamp:a});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){try{return ee(e)}catch(t){return e}}function ee(t){if(void 0!==t)return e.from(t,"hex").toString()}function te(e,t){var n;return new u.a({s:e.s,e:(null!==(n=e.e)&&void 0!==n?n:0)-t,c:e.c,_isBigNumber:!0})}}).call(this,n(20).Buffer)},401:function(e,t){},408:function(e,t){},427:function(e,t){},465:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(28),s=n.n(c),i=(n(276),n(23)),o=n(165),u=n(33),l=(n(277),n(502)),d=n(260),p=n(514),b=n(515),f=n(516),j=n(522),h=n(505),v=n(40),O=n(3),x=a.a.createContext(void 0);function m(e){var t=Object(r.useState)(void 0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){Object(v.f)().then((function(e){c(e.usd)}))}),[]),Object(O.jsx)(x.Provider,{value:a,children:e.children})}var y=n(11),k=n.n(y),w=n(504),g=n(506),C=n(518),S=n(523),A=n(96),P=n(507),B=n(508);function _(e,t){var n=t?{minimumFractionDigits:t,maximumFractionDigits:t}:{minimumSignificantDigits:3,maximumSignificantDigits:3};return e.toNumber().toLocaleString(navigator.language,n)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"$"+_(e,t?null:2)}var z=n(0),N=n.n(z),I=n(42),E=n(18),U=n(95),M=n(249),F=n(58);function L(e){return D.apply(this,arguments)}function D(){return(D=Object(E.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=0,e.next=4,Object(F.a)("https://api.better-call.dev/v1/account/mainnet/".concat(t,"/token_balances?sort_by=balance&offset=").concat(r));case 4:a=e.sent;case 5:if(!(a.balances.length>0)){e.next=13;break}return a.balances.forEach((function(e){n.push(e)})),r+=10,e.next=10,Object(F.a)("https://api.better-call.dev/v1/account/mainnet/".concat(t,"/token_balances?sort_by=balance&offset=").concat(r));case 10:a=e.sent,e.next=5;break;case 13:return e.abrupt("return",n.map((function(e){return{address:{address:e.contract,tokenId:new k.a(e.token_id)},balance:new k.a(e.balance).dividedBy(new k.a(10).exponentiatedBy(e.decimals))}})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=new U.a("https://api.tez.ie/rpc/mainnet"),W=new M.a({name:"tzcharts"});R.setWalletProvider(W);var q=a.a.createContext(null);function V(e){var t=Object(r.useState)(void 0),n=Object(i.a)(t,2),a=n[0],c=n[1],s=function(){var e=Object(E.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.tz.getBalance(t.address);case 2:return n=e.sent,e.next=5,L(t.address);case 5:r=e.sent,console.log("tokenBalances!"),console.log(r),c(Object(I.a)({balance:n,tokenBalances:r},t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.client.getActiveAccount();case 2:(t=e.sent)&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=Object(r.useCallback)((function(){(function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.client.requestPermissions();case 2:(t=e.sent)?s(t.accountInfo):console.log("User cancelled");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),u=Object(r.useCallback)((function(){(function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.clearActiveAccount();case 2:c(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(O.jsx)(q.Provider,{value:{connectWallet:o,disconnectWallet:u,account:a},children:e.children})}var Q=Object(l.a)((function(e){return{spacer:{flexGrow:1},small:{width:e.spacing(4),height:e.spacing(4)},onPrimary:{color:e.palette.text.primary},tezosPriceContainer:{display:"flex",alignItems:"center","& > *":{marginRight:e.spacing(1)}}}}));function K(e){var t,n=Q(),a=Object(r.useContext)(x),c=Object(r.useContext)(q),s=c.account,i=c.connectWallet,o=c.disconnectWallet;t=s?"Connected "+(s.address.substring(0,5)+"..."):"Connect wallet";var u,l=s?o:i;return Object(O.jsx)(w.a,{position:"static",style:{zIndex:1400,position:"relative"},children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(g.a,{variant:"h6",component:"a",href:"/",className:n.onPrimary,children:"tzcharts"}),a&&Object(O.jsxs)(C.a,{marginLeft:2,className:n.tezosPriceContainer,children:[Object(O.jsx)(S.a,{className:n.small,src:"https://mediashower.com/img/E8D195B2-8D67-11E8-8E97-AF63B8ECBBBA/tezos_600x.jpg"}),Object(O.jsx)(A.a,{variant:"body1",children:T(new k.a(a))})]}),Object(O.jsx)("span",{className:n.spacer}),Object(O.jsx)(P.a,{color:"inherit","aria-label":"open drawer",onClick:e.onRightMenuClick,edge:"start",children:Object(O.jsx)("span",{className:"material-icons",children:"menu"})}),s&&Object(O.jsx)(A.a,{variant:"body1",children:(u=s.balance,u.dividedBy(1e6).toFixed(2)+" tez")}),Object(O.jsx)(B.a,{variant:s?"outlined":"contained",color:"default",onClick:l,children:t})]})})}var H=n(19),Y=a.a.createContext(void 0);new k.a(1e8);function G(e){var t=Object(r.useState)(void 0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var e=Object(E.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)();case 2:return t=e.sent,e.next=5,Object(v.e)();case 5:n=e.sent,r=[].concat(Object(H.a)(t),Object(H.a)(n)),c(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(O.jsx)(Y.Provider,{value:a,children:e.children})}var J=n(511),X=n(517),Z=n(510),$=n(519),ee=n(106),te=n(37),ne=Object(l.a)((function(e){return{hintColor:{color:e.palette.text.hint}}}));var re=function(e){var t=Object(u.f)(),n=Object(r.useContext)(Y),a=ne(),c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(O.jsx)("form",{onSubmit:function(e){var n;e.preventDefault(),n=o,t.push("/token/".concat(n))},children:Object(O.jsx)($.a,{freeSolo:!0,autoHighlight:!0,autoSelect:!0,loading:void 0===n,options:null!==n&&void 0!==n?n:[],groupBy:function(e){return Object(te.b)(e.address)?"FA1.2 Tokens":"FA2"},getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:o},getOptionSelected:function(t){return!(!t.address||!e.currentTokenAddress)&&Object(te.c)(t.address,e.currentTokenAddress)},style:{width:"100%"},onChange:function(e,n,r){"select-option"===r?function(e){Object(te.b)(e.address)?t.push("/token/".concat(e.address)):t.push("/token/".concat(e.address.address,"/").concat(e.address.tokenId))}(n):l(n)},filterOptions:function(e,t){var n=t.inputValue,r=e.filter((function(e){return"fa12"===e.type})),a=e.filter((function(e){return"fa2"===e.type})),c=Object(ee.a)(r,n,{keys:["name",{threshold:ee.a.rankings.EQUAL,key:"address"}]}),s=Object(ee.a)(a,n,{keys:["name",{threshold:ee.a.rankings.EQUAL,key:"address.address"}]});return[].concat(Object(H.a)(c),Object(H.a)(s))},renderOption:function(e,t){t.selected;return Object(O.jsxs)("div",{children:[Object(O.jsx)(A.a,{variant:"subtitle1",children:e.name}),Object(O.jsx)(A.a,{variant:"subtitle2",children:Object(te.a)(e.address)})]})},renderInput:function(e){return Object(O.jsx)(X.a,Object(I.a)(Object(I.a)({},e),{},{variant:"outlined",placeholder:"Search by contract name or address...",InputProps:Object(I.a)(Object(I.a)({},e.InputProps),{},{startAdornment:Object(O.jsx)(Z.a,{position:"start",children:Object(O.jsx)(P.a,{className:a.hintColor,children:Object(O.jsx)("span",{className:"material-icons",children:"search"})})})})}))}})})},ae=n(524);function ce(){return(ce=Object(E.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.h)(t);case 2:return r=e.sent,e.next=5,Object(v.c)(n);case 5:return a=e.sent,e.next=8,Promise.all(a.map(function(){var e=Object(E.a)(N.a.mark((function e(t){var n,a,c,s,i,o,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.j)(t.value,r),a=n.tokenPool,c=n.tezosPool,s=c.dividedBy(a),i=t.level,e.next=6,Object(v.f)(i);case 6:return o=e.sent,u=s.multipliedBy(o.usd),e.abrupt("return",{time:+n.lastUpdateTime/1e3,value:u.toNumber()});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=a.a.createContext([]);function ie(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(e,t){return ce.apply(this,arguments)})(e.address,e.dexAddress).then((function(e){c(e)}))}),[e.address,e.dexAddress]),Object(O.jsx)(se.Provider,{value:a,children:e.children})}var oe=n(259),ue=n.n(oe);function le(){var e,t,n=Object(r.useContext)(se),a=null!==(e=null===(t=n.map((function(e){return e.value})).reduce((function(e,t){return Math.min(e,t)}),Number.MAX_VALUE).toPrecision(3).split(".")[1])||void 0===t?void 0:t.length)&&void 0!==e?e:2,c=Math.pow(10,-a).toPrecision(1);return Object(O.jsx)(ue.a,{autoWidth:!0,darkTheme:!0,options:{alignLabels:!0,timeScale:{rightOffset:12,barSpacing:3,fixLeftEdge:!0,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderVisible:!1,borderColor:"#fff000",visible:!0,timeVisible:!0}},lineSeries:[{data:n,options:{priceFormat:{type:"price",precision:a,minMove:c}}}]})}var de=a.a.createContext(void 0);function pe(e){var t=Object(r.useState)(void 0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){Object(v.i)(e.address).then((function(e){c(e)}))}),[e.address]),Object(O.jsx)(de.Provider,{value:a,children:e.children})}var be=n(521),fe=Object(l.a)((function(e){return{price:{color:e.palette.primary.light,textAlign:"right"},primary:{color:e.palette.primary.light},big:{width:e.spacing(8),height:e.spacing(8)},chipContainer:{"& > *":{marginRight:e.spacing(1)}},details:{"& > *":{marginTop:e.spacing(2),marginRight:e.spacing(4),display:"inline-block"}}}}));var je=function(e){var t,n=fe(),a=Object(r.useState)(void 0),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(void 0),l=Object(i.a)(u,2),d=l[0],p=l[1],b=Object(r.useState)(void 0),f=Object(i.a)(b,2),j=f[0],h=f[1],m=Object(r.useContext)(x),y=Object(r.useContext)(Y),w=Object(r.useContext)(de),g=void 0,P=null,B=null,z=new k.a(0);if(s&&j){var I=j.tezosPool,U=j.tokenPool;t=I.dividedBy(U),m&&(g=I.multipliedBy(m).multipliedBy(2),z=t.multipliedBy(m)),s.totalSupply&&(P=s.totalSupply.multipliedBy(z),m&&(B=P.multipliedBy(m)))}return Object(r.useEffect)((function(){o(void 0),p(void 0),h(void 0),function(){var e=Object(E.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.g)(t);case 2:if(n=e.sent,o(null!==n&&void 0!==n?n:null),!n||!y){e.next=17;break}if(r=y.find((function(e){return Object(te.c)(e.address,t)})),p(r),!r){e.next=14;break}return e.next=10,Object(v.b)(r.address,r.dexAddress);case 10:a=e.sent,h(a),e.next=15;break;case 14:h(null);case 15:e.next=19;break;case 17:p(null),h(null);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e.address)}),[e.address,y]),Object(O.jsx)("div",{children:s?Object(O.jsxs)("div",{children:[Object(O.jsxs)(C.a,{display:"flex",children:[Object(O.jsx)(S.a,{className:n.big,alt:s.name,src:s.thumbnailUri,style:{backgroundColor:"white"}}),Object(O.jsxs)(C.a,{style:{flex:1,marginLeft:16},children:[Object(O.jsxs)(A.a,{variant:"h4",component:"span",children:[s.name," (",s.symbol,")"]}),Object(O.jsx)(A.a,{variant:"h6",children:s.description})]})]}),Object(O.jsxs)(C.a,{marginY:1,className:n.chipContainer,children:[Object(O.jsx)(ae.a,{label:"fa12"===s.type?"FA1.2 Token":"FA2 Token",variant:"outlined"}),Object(O.jsx)(ae.a,{icon:Object(O.jsx)("span",{className:"material-icons",children:"content_copy"}),label:"Copy contract address",variant:"outlined",onClick:function(){navigator.clipboard.writeText(Object(te.a)(e.address))}}),Object(O.jsx)(ae.a,{icon:Object(O.jsx)("span",{className:"material-icons",children:"open_in_new"}),label:"View on tzkt.io",variant:"outlined",onClick:function(){return function(e){var t=Object(te.a)(e),n="https://tzkt.io/".concat(t);window.open(n,"_blank")}(e.address)}}),Object(O.jsx)(ae.a,{icon:Object(O.jsx)("span",{className:"material-icons",children:"open_in_new"}),label:"View on QuipuSwap",variant:"outlined",onClick:function(){return function(e){var t=Object(te.b)(e)?"https://quipuswap.com/swap?from=tez&to=".concat(e):"https://quipuswap.com/swap?from=tez&to=".concat(e.address,"_").concat(e.tokenId);window.open(t,"_blank")}(e.address)}})]}),Object(O.jsx)(C.a,{marginTop:2,children:Object(O.jsx)(be.a,{severity:"warning",variant:"outlined",children:"Prices calculated from balances in QuipusSwap liquidity pool. May be incorrect."})}),Object(O.jsxs)(C.a,{className:n.details,children:[Object(O.jsxs)(C.a,{children:[Object(O.jsx)(A.a,{variant:"h6",children:"Price:"}),Object(O.jsx)(A.a,{variant:"body1",className:n.price,children:T(z,!0)})]}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(A.a,{variant:"h6",children:"Market cap"}),Object(O.jsx)(A.a,{variant:"body1",children:w?T(w.circulatingSupply.multipliedBy(z)):"Unknown"})]}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(A.a,{variant:"h6",children:"Liquidity"}),Object(O.jsx)(A.a,{variant:"body1",children:g?T(g):"Unknown"})]}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(A.a,{variant:"h6",children:"Max supply"}),Object(O.jsx)(A.a,{variant:"body1",children:s.totalSupply?function(e,t){var n;return _(e,null!==(n=t.decimals)&&void 0!==n?n:0)+" "+t.symbol}(s.totalSupply,{decimals:0,symbol:s.symbol}):"Unknown"})]}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(A.a,{variant:"h6",children:"Market cap (fully diluted)"}),Object(O.jsx)(A.a,{variant:"body1",children:B?T(B):"Unknown"})]})]}),(null===d||void 0===d?void 0:d.dexAddress)&&Object(O.jsx)(C.a,{marginTop:2,children:Object(O.jsxs)(ie,{address:d.address,dexAddress:d.dexAddress,children:[Object(O.jsx)(A.a,{variant:"h6",children:"Chart"}),Object(O.jsx)(le,{})]})})]}):null===s?Object(O.jsxs)(be.a,{severity:"error",children:["No token found at $",Object(te.a)(e.address)]}):Object(O.jsx)("h3",{children:"Loading..."})})};function he(){var e=Object(u.g)(),t=e.address,n=e.tokenId,a=Object(r.useMemo)((function(){return void 0!==n?{address:t,tokenId:new k.a(n)}:t}),[t,n]);return Object(O.jsxs)(J.a,{children:[Object(O.jsx)(C.a,{marginY:2,children:Object(O.jsx)(re,{currentTokenAddress:a})}),Object(O.jsx)(pe,{address:a,children:Object(O.jsx)(je,{address:a})})]})}function ve(){return Object(O.jsxs)(J.a,{children:[Object(O.jsx)(C.a,{marginY:2,children:Object(O.jsx)(re,{currentTokenAddress:null})}),Object(O.jsx)(A.a,{variant:"h4",gutterBottom:!0,children:"Welcome to tzcharts!"}),Object(O.jsxs)(A.a,{variant:"body1",children:["Token information is retrieved using tzkt.io and better-call.dev's APIs.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Token price information retrieved from QuipusSwap's FA1.2 and FA2 swap contracts.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"This tool is currently in beta. All price information are loaded on page load, and do not refresh automatically."]})]})}var Oe=n(132),xe=n(512),me=n(513);function ye(e){return null!==e&&void 0!==e}function ke(){var e=Object(r.useContext)(Y),t=Object(r.useContext)(q),n=Object(r.useContext)(x),a=Object(r.useState)(),c=Object(i.a)(a,2),s=c[0],o=c[1],u=t.account,l=Object(r.useMemo)((function(){return u&&e?u.tokenBalances.map((function(t){var n=t.address;console.log(e),console.log(n);var r=e.find((function(e){return Object(te.c)(e.address,n)}));return r?Object(I.a)(Object(I.a)({},r),{},{balance:t.balance}):null})).filter(ye):void 0}),[u,e]);return Object(r.useEffect)((function(){u&&e?(o(void 0),function(){var t=Object(E.a)(N.a.mark((function t(){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Map,t.next=3,Promise.all(e.map(function(){var e=Object(E.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(t);case 2:r=e.sent,n.set(t.address,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:o(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()):o(void 0)}),[u,e]),Object(O.jsx)(C.a,{alignItems:"center",children:l?Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a,{padding:2,children:Object(O.jsx)(A.a,{variant:"h6",children:"Balances"})}),l.map((function(e){var t,r=e.balance.toString();return t=(null===s||void 0===s?void 0:s.has(e.address))&&n?T(s.get(e.address).multipliedBy(n))+" (".concat(r,")"):r,Object(O.jsx)(xe.a,{children:Object(O.jsx)(me.a,{primary:null===e||void 0===e?void 0:e.name,secondary:t})},JSON.stringify(e.address))}))]}):Object(O.jsx)(C.a,{padding:4,children:Object(O.jsx)(A.a,{variant:"h6",children:"Connect wallet to show balances"})})})}var we=Object(l.a)((function(e){return{root:{flexGrow:1}}}));function ge(e){var t=we(),n=Object(d.a)({palette:{type:"dark",primary:Oe.a}}),a=Object(r.useState)(!1),c=Object(i.a)(a,2),s=c[0],l=c[1],v=Object(p.a)(n.breakpoints.up("xl"))?"persistent":"temporary";return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)(m,{children:Object(O.jsx)(V,{children:Object(O.jsx)(G,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(b.a,{theme:n,children:[Object(O.jsx)(f.a,{}),Object(O.jsx)(K,{onRightMenuClick:function(){l(!s)}}),Object(O.jsxs)(j.a,{anchor:"right",open:s,variant:v,onClose:function(){return l(!1)},children:[Object(O.jsx)(h.a,{}),Object(O.jsx)(ke,{})]}),Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/",children:Object(O.jsx)(ve,{})}),Object(O.jsx)(u.a,{path:"/token/:address/:tokenId",children:Object(O.jsx)(he,{})}),Object(O.jsx)(u.a,{path:"/token/:address",children:Object(O.jsx)(he,{})})]})]})})})})}),Object(O.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),Object(O.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"})]})}var Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,527)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(ge,{})}),document.getElementById("root")),Ce()},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),c=n(18);function s(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return 204===e.status?{}:e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},[[465,1,2]]]);
//# sourceMappingURL=main.a7acaf59.chunk.js.map